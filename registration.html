<!DOCTYPE HTML>
<!--
	Spatial by TEMPLATED
	templated.co @templatedco
	Released for free under the Creative Commons Attribution 3.0 license (templated.co/license)
-->
<html>
	<head>
		<title>Green Dot Corp Registration</title>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		<link rel="stylesheet" href="assets/css/main.css" />
	</head>
	<body>

		<!-- Header -->
			<header id="header">
				<a href="index.html"><img src="images/logo.png" style="height: 100%"/></a>
				<nav id="nav">
					<ul>
						<li><a href="profile.html">My Profile</a></li>
						<li><a href="login.html" class="button">Login/Open an Account</a></li> 
					</ul>
				</nav>
			</header>

			<a href="#menu" class="navPanelToggle"><span class="fa fa-bars"></span></a>

		<!-- Main -->
			<section id="main" class="wrapper">
				<div class="container">
					<header class="major special">
						<h2>Registration</h2>
						<p>Self-Service User Registration</p>
					</header>

					<!-- Form -->
					<section>
						<h2>Registration Information</h2>
						<form method="post" action="#">
							<div id="reg" class="row uniform 50%">
								<!-- <div class="6u 12u$(xsmall)">
									<input type="text" name="name" id="fname" value="Frist Name" />
								</div>
								<div class="6u$ 12u$(xsmall)">
									<input type="text" name="name" id="lname" value="Last Name" />
								</div> -->
								
								<div class="4u">
									<input type="email" name="email" id="email" placeholder="email" />
									<div id="warningDiv" class="row uniform 50%">
										<span style="color:red" id="warningMessage" class="confirm-message"></span>
									</div>
									<div class="row uniform 50%">
										<!-- <h3> Set Password</h3> -->
										<div class="6u 12u$(xsmall)">
											<input type="password" name="user_pass" id="user_pass" placeholder="Password" />
											<!-- <input type="password" name="user_pass" id="user_pass" value=""  onkeyup="debounce(pwned('REG'),2000);" /> -->										
										</div>

										<div class="6u 12u$(xsmall)">
											<input type="password" name="user_pass_conf" id="user_pass_conf" placeholder="Confirm Password" />
										</div>
										<span id="confirm-message2" class="confirm-message"></span>
										<div class="6u 12u$(xsmall)">
											<span id="pwnedWarning" class="confirm-message"></span>
										</div>
									</div>
								</div>
								<div class="row uniform 50%">
									<ul class="actions">
										<li><a href="#" class="button" id="register_button" onclick="registerUser();">Create Account</a></li> 
										<!-- <button a href="#" class="button" id="register_button" onclick="registerUser();">Create Account</button> -->
										<!-- <button a href="#" class="button" id="register_button">Create Account</button> -->

									</ul>
								</div>
							</div>
							<div id ="otpDiv" view="hide" class="row uniform 50%">
								<h3> An Email was sent with a verification code. Please Verify your email</h3>
								<div class="6u 12u$(xsmall)">
									<input type="text" name="user_otp" id="user_otp" value="OTP" />
								</div>
								<span id="confirm-message2" class="confirm-message"></span>
								<ul class="actions">
									<li><a href="#" class="button" onclick="validateUser();">Validate</a></li> 
								</ul>
								
							</div>
							<section>
								<div class="mfn-login" style="display: none;">
									<input type="text" class="form-control" name="ppURL" id="ppURL" readonly />
								</div>
								<div id = "ppDiv" class = "container">
									<h4 id = "prompt"> </h4>
									<div class="6u 12u$(xsmall)">
										<label id =fnamelabel style="display:inline-block;"></label>
										<input type="text" name="name" id="fname" value="" />
									</div>
									<div class="6u$ 12u$(xsmall)">
										<label id =lnamelabel style="display:inline-block;"></label>
										<input type="text" name="name" id="lname" value="" />
									</div>
									<ul class="actions">
										<li><a href="#" class="button" onclick="setPPValues();">Continue</a></li> 
									</ul>
								</div>
					
							</section> 
						</form>
					</section>

					<!-- Buttons -->
					<section>
						
					</section>
				</br>
				</div>
			</section>

		<!-- Footer -->
		<footer id="footer">
			<div class="container">
				<ul class="icons">
					<li><a href="#" class="icon fa-facebook"></a></li>
					<li><a href="#" class="icon fa-twitter"></a></li>
					<li><a href="#" class="icon fa-instagram"></a></li>
				</ul>
				<ul class="copyright">
					<li>&copy; Green Dot Corp</li>
				</ul>
			</div>
		</footer>

		<!-- Scripts -->
			<script src="assets/js/jquery.min.js"></script>
			<script src="assets/js/skel.min.js"></script>
			<script src="assets/js/util.js"></script>
			<script src="assets/js/main.js"></script>
			<script src="https://cdn.jsdelivr.net/npm/js-cookie@2/src/js.cookie.min.js"></script>
			<script src="assets/js/p1helper.js"></script>
			<script src="assets/js/p1Registration.js"></script>
			<script src="assets/js/pwned.js"></script>
			

			<script>
				// some housekeeping variables
				
								$('#changePassword').on('input', function (e) {
								let thisPassword = $('#changePassword').val();
				
								if (regexLower.test(thisPassword)) {
								$('#lowercase').removeClass('text-primary');
								} else {
									$('#lowercase').addClass('text-primary');
								}
								if (regexUpper.test(thisPassword)) {
									$('#uppercase').removeClass('text-primary');
								} else {
									$('#uppercase').addClass('text-primary');
								}
				
								if (regexNumeric.test(thisPassword)) {
									$('#numeric').removeClass('text-primary');
								} else {
									$('#numeric').addClass('text-primary');
								}
				
								if (regexSpecial.test(thisPassword)) {
									$('#special').removeClass('text-primary');
								} else {
									$('#special').addClass('text-primary');
								}
				
								if (regexLength.test(thisPassword)) {
									$('#length').removeClass('text-primary');
								} else {
									$('#length').addClass('text-primary');
								}
							});
							// begin process
							$(document).ready(function () {
								console.log("Page ready function");
								console.log("hide otp div");
								$('#otpDiv').hide();
								$('#ppDiv').hide();
							})
							
				const pwnedPasss = document.getElementById("user_pass");

				pwnedPasss.addEventListener(	
					"keyup",
					debounce(pwned,500)
				);

				const passwordCheck = document.getElementById("user_pass_conf");

				passwordCheck.addEventListener(	
					"keyup",
					debounce(checkPass,500)
				);

				// const regUser = document.getElementById("register_button");

				// regUser.addEventListener(	
				// 	"onclick",
				// 	registerUser()
				// );


				
			</script>

	</body>
</html>
